<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
</head>
<body id="bootstrap-overrides">

<div class="container bg-light border">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand text-light" href="/amina">Anima</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link active text-light" aria-current="page" href="/amina">Animation</a>
            <a class="nav-link text-light" href="/retcarahC">Character</a>
            <a class="nav-link text-light" href="/ecioV">Voice</a>
          </div>
        </div>
      </div>
    </nav>
        <div class="row">
            <div class="col">
            <br/>
            <nav class="navbar navbar-expand-lg navbar-dark bg-light">
              <div class="container-fluid">
                <a class="navbar-brand col-8 text-secondary" >Animation</a>
                  <form class="d-flex col-1">
                    <select name="which" class="form-select col-3" aria-label="Default select example" onchange="window.location.href=this.options[selectedIndex].value">
                        {% if season == "all" %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=all" class="drop-down" selected>all season</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=all" class="drop-down">all season</option>
                        {% endif %}

                        {% if season == "春" %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=春" class="drop-down" selected>春</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=春" class="drop-down">春</option>
                        {% endif %}

                        {% if season == "夏" %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=夏" class="drop-down" selected>夏</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=夏" class="drop-down">夏</option>
                        {% endif %}
                        {% if season == "秋" %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=秋" class="drop-down" selected>秋</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=秋" class="drop-down">秋</option>
                        {% endif %}
                        {% if season == "冬" %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=冬" class="drop-down" selected>冬</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year={{ year }}&season=冬" class="drop-down">冬</option>
                        {% endif %}
                    </select>
                    </form>
                    <form class="d-flex col-3">
                    <select name="which" class="form-select col-3" aria-label="Default select example" onchange="window.location.href=this.options[selectedIndex].value">
                        {% if year == "all" %}
                            <option value="/amina?page={{ left }}&year=all&season={{ season }}" class="drop-down" selected>all year</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year=all&season={{ season }}" class="drop-down">all year</option>
                        {% endif %}

                        {% if year == "2020" %}
                            <option value="/amina?page={{ left }}&year=2020&season={{ season }}" class="drop-down" selected>2020</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year=2020&season={{ season }}" class="drop-down">2020</option>
                        {% endif %}
                        {% if year == "2021" %}
                            <option value="/amina?page={{ left }}&year=2021&season={{ season }}" class="drop-down" selected>2021</option>
                        {% else %}
                            <option value="/amina?page={{ left }}&year=2021&season={{ season }}" class="drop-down">2021</option>
                        {% endif %}
                    </select>
                    </form>
              </div>
            </nav>
            <br/>

            <div class="container">
            <table  class="table table-striped" class="for-table" border="1">
                <thead class="bg-dark text-white">
                    <tr>
                        <th scope="col"></th>
                        <th scope="col-1">年分</th>
                        <th scope="col-1">季度</th>
                        <th scope="col-6">動畫</th>
                        <th scope="col-2">導演</th>
                        <th scope="col-2">製作公司</th>
                    </tr>
                </thead>
                <tbody id="test">
                {% for data in datas %}
                    <tr>
                        <th scope="row" class="h6 text-black-50" ></th>
                        <td class="other">{{ data[1] }}</td>
                        <td>{{ data[2] }}</td>
                        <td class="anima" value="aaa">{{ data[0] }}</td>
                        {% if data[3] != "NULL" %}
                            <td>{{ data[3] }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                        {% if data[4] != "NULL" %}
                            <td>{{ data[4] }}</td>
                        {% else %}
                            <td></td>
                        {% endif %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
            </div>
            <div class="container">
                <div class="row justify-content-between">
                    {% if page == left %}
                        <button type="button" class="col-1 btn btn-secondary" id="pre" onclick="location.href='/amina?page={{ left }}&year={{ year }}&season={{ season }}'" disabled>
                    {% else %}
                        <button type="button" class="col-1 btn btn-secondary" id="pre" onclick="location.href='/amina?page={{ left }}&year={{ year }}&season={{ season }}'">
                    {% endif %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left-circle-fill" viewBox="0 0 16 16">
                              <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/>
                            </svg>
                        </button>
                    {% if page == right %}
                        <button type="button" class="col-1 btn btn-secondary" id="next" onclick="location.href='/amina?page={{ right }}&year={{ year }}&season={{ season }}'" disabled>
                    {% else %}
                        <button type="button" class="col-1 btn btn-secondary" id="next" onclick="location.href='/amina?page={{ right }}&year={{ year }}&season={{ season }}'">
                    {% endif %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                              <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/>
                            </svg>
                        </button>
                </div>
            </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
    /*search_anima();
    function search_anima(){
        td = document.getElementsByClassName("anima");
        name=document.getElementById("anima").value
        alarm(name);
        $(function () {
            $(".anima").click(function () {
                console.log("click");
                window.location.href('/retcarahC?&anima_name=$name');
            });
        });
    };*/
    search_anima();
    /**
     *
     * 添加鼠標點擊事件，可以改變table中表格的值
     * */
    function search_anima(){
        // 獲取所有的單元格
        //td = document.getElementsByClassName("anima");
        $(function () {
            $(".anima").click(function () {
                console.log("click");
                var name = $(this).text();
                const url = `/retcarahC?&anima_name=${name}`
                console.log(url);
                $(location).attr('href',url);
            })
            ;
        });
    };
    </script>
    <style>

        #bootstrap-overrides .anima:hover{

            color:#17B890;
        }
    </style>
</body>

</html>